<nb-layout>

  <nb-layout-header fixed *ngIf="!isMobile && isLayoutHeaderVisible" >

    <div class="row main-header-div">
      <div *ngIf="!isSideBarCollapsed" class="col-3 col-sm-1 text-left text-danger my-auto" style="cursor: pointer;" (click)="collapseSideBar()">
        <i class="far fa-window-close fa-3x"></i>
      </div>
      <div *ngIf="isSideBarCollapsed" class="col-3 col-sm-1 text-left text-warning my-auto" style="cursor: pointer;" (click)="expandSideBar()">
        <i class="fas fa-bars fa-3x"></i>
      </div>
      <div class="col-3 col-sm-1  text-right my-auto">
        <button nbButton hero status="info" [nbContextMenu]="themeMenuItems" nbContextMenuTag="theme-context-menu">
          <i class="fas fa-palette fa-lg"></i>
        </button>

      </div>
      <!-- Search Inputs  -->
      <div class="col-sm-7 text-center">
        <div *ngIf="!isMobile" class="row">
          <div class="col text-right my-auto">
            <input
            type="text"
            shape="round"
            name="searchPlaceInput"
            nbInput
            fullWidth
            placeholder="Поиск по географическому названию"
            (input)="placeSearchInput()"
            [(ngModel)]="placeSearchTerm">
            <button
            *ngIf="placeSearchTerm"
            nbButton
            ghost
            (click)="clearInputText('place')"
            status="control"
            shape="round"
            size="tiny"
            class="clear-search-text-input">
            <i class="fas fa-times fa-2x"></i>
          </button>
          </div>
          <div class="col text-left my-auto">
            <input type="text" shape="round" name="searchBookInput" nbInput fullWidth placeholder="Поиск по произведению" [(ngModel)]="bookSearchTerm" (input)="bookSearchInput()">
            <button
            *ngIf="bookSearchTerm"
            nbButton
            ghost
            (click)="clearInputText('book')"
            status="control"
            shape="round"
            size="tiny"
            class="clear-search-text-input">
            <i class="fas fa-times fa-2x"></i>
          </button>
          </div>
        </div>
      </div>

      <div class="col-2 col-sm-1  text-center pl-1 pr-0 my-auto">
        <button nbButton hero status="info" fullWidth (click)="navigateTo('/home')"><i class="fa fa-home fa-lg" alt="Домашняя страница"></i></button>
      </div>
      <div class="col-2 col-sm-1 col text-center pl-1 pr-0 my-auto">
        <button nbButton hero status="success" fullWidth (click)="navigateTo('/google-map/0/0')"><i class="fa fa-map fa-lg" alt="Карта"></i></button>
      </div>
      <div class="col-2 col-sm-1 col text-center pl-1 pr-0 my-auto">
        <button nbButton hero status="warning" fullWidth (click)="navigateTo('/admin')"><i class="fas fa-tools fa-lg" alt="Админ страница"></i></button>
      </div>
    </div>

  </nb-layout-header>

  <!-- Mobile Header  -->
  <nb-layout-header fixed *ngIf="isMobile && isLayoutHeaderVisible">

    <div class="row main-header-div">
      <div *ngIf="!isSideBarCollapsed" class="col-3 text-left text-danger my-auto" style="cursor: pointer;" (click)="collapseSideBar()">
        <i class="far fa-window-close fa-3x"></i>
      </div>
      <div *ngIf="isSideBarCollapsed" class="col-3 text-left text-warning my-auto" style="cursor: pointer;" (click)="expandSideBar()">
        <i class="fas fa-bars fa-3x"></i>
      </div>
      <div class="col-3  text-left my-auto">
        <button nbButton hero status="info" [nbContextMenu]="themeMenuItems" nbContextMenuTag="theme-context-menu">
          <i class="fas fa-palette fa-lg"></i>
        </button>

      </div>

      <div class="col-2  text-center pl-1 pr-0 my-auto">
        <button nbButton hero status="info" fullWidth (click)="navigateTo('/home')"><i class="fa fa-home fa-lg" alt="Домашняя страница"></i></button>
      </div>
      <div class="col-2 col text-center pl-1 pr-0 my-auto">
        <button nbButton hero status="success" fullWidth (click)="navigateTo('/google-map/0/0')"><i class="fa fa-map fa-lg" alt="Карта"></i></button>
      </div>
      <div class="col-2 col text-center pl-1 pr-0 my-auto">
        <button nbButton hero status="warning" fullWidth (click)="navigateTo('/admin')"><i class="fas fa-tools fa-lg" alt="Админ страница"></i></button>
      </div>
    </div>

    <!-- Search Input Mobile  -->
    <div class="row mt-1">
      <div class="col pl-1 pr-0">
        <input type="text" shape="round" name="searchPlaceInput" nbInput fullWidth placeholder="Поиск по географическому названию" (input)="placeSearchInput()" [(ngModel)]="placeSearchTerm">
        <button nbButton ghost (click)="clearInputText('place')" status="control" shape="round" size="tiny" class="clear-search-text-input"><i class="fas fa-times fa-2x"></i></button>
      </div>
      <div class="col pl-0 pr-1">
        <input type="text" shape="round" name="searchBookInput" nbInput fullWidth placeholder="Поиск по произведению" [(ngModel)]="bookSearchTerm" (input)="bookSearchInput()">
        <button nbButton ghost (click)="clearInputText('book')" status="control" shape="round" size="tiny" class="clear-search-text-input"><i class="fas fa-times fa-2x"></i></button>
      </div>
    </div>

  </nb-layout-header>

  <nb-layout-column style="overflow-y: hidden;margin-top: 0.7rem;">

    <router-outlet></router-outlet>

  </nb-layout-column>

  <nb-sidebar left="true" [fixed]="isMobile">
    <app-sidebar [placeSearchTerm]="placeSearchTerm"></app-sidebar>
  </nb-sidebar>

</nb-layout>
